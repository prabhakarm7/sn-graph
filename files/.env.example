# Smart Network Logging Configuration
# Copy this to your .env file and adjust values as needed

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Log Level
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Development: DEBUG or INFO
# Staging: INFO
# Production: INFO or WARNING
LOG_LEVEL=INFO

# Environment Name
# Used to tag logs and adjust behavior
# Options: development, staging, production
ENVIRONMENT=production

# Enable Console Logging
# Set to false in production if using CloudWatch exclusively
# Options: true, false
ENABLE_CONSOLE_LOGGING=true

# ============================================================================
# AWS CLOUDWATCH CONFIGURATION
# ============================================================================

# AWS Region
# Where your CloudWatch logs are stored
AWS_REGION=us-east-1

# CloudWatch Log Group Name
# The log group where application logs will be sent
# Must be created before deployment
CLOUDWATCH_LOG_GROUP=/smart-network/api

# CloudWatch Log Stream Prefix (optional)
# Prefix for log streams (usually auto-generated by container)
# CLOUDWATCH_LOG_STREAM_PREFIX=smart-network-api

# AWS Credentials (if not using IAM roles)
# Recommended: Use IAM roles for EC2/ECS/Lambda instead
# AWS_ACCESS_KEY_ID=your_access_key_here
# AWS_SECRET_ACCESS_KEY=your_secret_key_here

# ============================================================================
# LOG RETENTION CONFIGURATION
# ============================================================================

# CloudWatch Log Retention (days)
# How long to keep logs before automatic deletion
# Options: 1, 3, 5, 7, 14, 30, 60, 90, 120, 150, 180, 365, 400, 545, 731, 1827, 3653
# Development: 7
# Staging: 30
# Production: 90 or more
CLOUDWATCH_RETENTION_DAYS=90

# ============================================================================
# FRONTEND LOGGING CONFIGURATION
# ============================================================================

# API URL for frontend logger
# Where frontend logs will be sent
NEXT_PUBLIC_API_URL=https://api.smartnetwork.com

# Frontend Log Batch Size
# How many events to collect before flushing
# Default: 50
FRONTEND_LOG_BATCH_SIZE=50

# Frontend Log Flush Interval (ms)
# How often to send logs to backend
# Default: 10000 (10 seconds)
FRONTEND_LOG_FLUSH_INTERVAL=10000

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================

# Log Sampling Rate (optional)
# Sample high-volume logs for reduced costs
# Value: 0.0 to 1.0 (1.0 = log everything)
# Example: 0.1 = log 10% of requests
# LOG_SAMPLING_RATE=1.0

# Async Logging (Python)
# Enable async logging for better performance
# Options: true, false
# ENABLE_ASYNC_LOGGING=true

# ============================================================================
# DEBUGGING
# ============================================================================

# Verbose Logging
# Enable detailed debug output
# Only use in development!
# Options: true, false
VERBOSE_LOGGING=false

# Log Request Bodies
# Log full request/response bodies (careful with PII!)
# Only use in development for debugging
# Options: true, false
LOG_REQUEST_BODIES=false

# Log SQL Queries
# Log database queries (if applicable)
# Options: true, false
LOG_SQL_QUERIES=false

# ============================================================================
# GRAFANA CONFIGURATION (Optional)
# ============================================================================

# Grafana URL
# Where your Grafana instance is hosted
GRAFANA_URL=https://grafana.smartnetwork.com

# Grafana API Key (for automated dashboard creation)
# GRAFANA_API_KEY=your_grafana_api_key_here

# ============================================================================
# ALERTING CONFIGURATION (Optional)
# ============================================================================

# Slack Webhook for Alerts
# Send critical alerts to Slack
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# PagerDuty Integration Key
# For critical production alerts
# PAGERDUTY_INTEGRATION_KEY=your_pagerduty_key_here

# Email Alerts
# Send alerts via email (requires SMTP config)
# ALERT_EMAIL=alerts@smartnetwork.com

# ============================================================================
# EXAMPLE CONFIGURATIONS BY ENVIRONMENT
# ============================================================================

# ────────────────────────────────────────────────────────────────────────────
# DEVELOPMENT ENVIRONMENT
# ────────────────────────────────────────────────────────────────────────────
# LOG_LEVEL=DEBUG
# ENVIRONMENT=development
# ENABLE_CONSOLE_LOGGING=true
# CLOUDWATCH_RETENTION_DAYS=7
# VERBOSE_LOGGING=true
# LOG_REQUEST_BODIES=true
# LOG_SQL_QUERIES=true

# ────────────────────────────────────────────────────────────────────────────
# STAGING ENVIRONMENT
# ────────────────────────────────────────────────────────────────────────────
# LOG_LEVEL=INFO
# ENVIRONMENT=staging
# ENABLE_CONSOLE_LOGGING=true
# CLOUDWATCH_RETENTION_DAYS=30
# VERBOSE_LOGGING=false
# LOG_REQUEST_BODIES=false
# LOG_SQL_QUERIES=false

# ────────────────────────────────────────────────────────────────────────────
# PRODUCTION ENVIRONMENT
# ────────────────────────────────────────────────────────────────────────────
# LOG_LEVEL=INFO
# ENVIRONMENT=production
# ENABLE_CONSOLE_LOGGING=false  # Use CloudWatch exclusively
# CLOUDWATCH_RETENTION_DAYS=90
# VERBOSE_LOGGING=false
# LOG_REQUEST_BODIES=false
# LOG_SQL_QUERIES=false
# LOG_SAMPLING_RATE=1.0  # Log everything in production
# ENABLE_ASYNC_LOGGING=true

# ============================================================================
# SECURITY NOTES
# ============================================================================
#
# 1. NEVER commit this file with real credentials
# 2. Use AWS IAM roles instead of access keys when possible
# 3. Rotate credentials regularly
# 4. Use AWS Secrets Manager or Parameter Store for sensitive values
# 5. Enable encryption at rest for CloudWatch logs
# 6. Restrict log group access with IAM policies
# 7. Never log passwords, tokens, or PII
# 8. Review logs regularly for accidental sensitive data exposure
#
# ============================================================================

# ============================================================================
# COST OPTIMIZATION TIPS
# ============================================================================
#
# 1. Set appropriate retention periods (shorter = cheaper)
# 2. Use LOG_LEVEL wisely (INFO vs DEBUG)
# 3. Consider sampling for high-volume logs
# 4. Archive old logs to S3 for long-term storage
# 5. Use CloudWatch Logs Insights efficiently (avoid full scans)
# 6. Set up log group subscription filters for specific use cases
# 7. Monitor CloudWatch costs in AWS Cost Explorer
#
# Estimated costs (as of 2025):
# - Ingestion: $0.50 per GB
# - Storage: $0.03 per GB per month
# - Insights queries: Based on data scanned
#
# Example: 10k requests/day, 1KB logs each = 10MB/day = 300MB/month
# Cost: ~$0.15/month ingestion + ~$0.01/month storage = ~$0.16/month
#
# ============================================================================

# ============================================================================
# MONITORING BEST PRACTICES
# ============================================================================
#
# 1. Set up CloudWatch alarms for:
#    - Error rate > 5%
#    - P95 latency > 3000ms
#    - Request rate spikes
#    - Cache hit rate < 50%
#
# 2. Create Grafana dashboards for:
#    - Request rate over time
#    - Error rate over time
#    - Latency percentiles (P50, P95, P99)
#    - Cache efficiency
#    - Regional performance
#    - Active sessions
#
# 3. Review logs weekly for:
#    - Unusual patterns
#    - Performance degradation
#    - Error trends
#    - Usage patterns
#
# 4. Monthly log analysis:
#    - Generate reports
#    - Identify optimization opportunities
#    - Review retention policies
#    - Audit access patterns
#
# ============================================================================
