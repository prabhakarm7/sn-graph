{"ast":null,"code":"// FilterTypes.ts - UPDATED with Complete Recommendations Mode Support\n// âœ… UPDATED: Enhanced interface with new PCA/ACA fields and incumbent products\n// âœ… UPDATED: Transform function with enhanced PCA/ACA logic and incumbent products\nexport function transformHierarchicalOptions(hierarchicalOptions){var _options$client_advis,_options$consultant_a,_options$incumbent_pr,_options$pcas,_options$acas;// âœ… Handle both typed and untyped inputs\nconst options=hierarchicalOptions;const extractNames=arr=>{if(!arr||arr.length===0)return[];return arr.map(item=>typeof item==='string'?item:item.name||item.id);};console.log('ðŸ”„ Transforming hierarchical options with enhanced PCA/ACA logic and incumbent products:',{clientAdvisors:((_options$client_advis=options.client_advisors)===null||_options$client_advis===void 0?void 0:_options$client_advis.length)||0,consultantAdvisors:((_options$consultant_a=options.consultant_advisors)===null||_options$consultant_a===void 0?void 0:_options$consultant_a.length)||0,incumbentProducts:((_options$incumbent_pr=options.incumbent_products)===null||_options$incumbent_pr===void 0?void 0:_options$incumbent_pr.length)||0,// NEW\nlegacyPcas:((_options$pcas=options.pcas)===null||_options$pcas===void 0?void 0:_options$pcas.length)||0,legacyAcas:((_options$acas=options.acas)===null||_options$acas===void 0?void 0:_options$acas.length)||0,rawClientAdvisors:options.client_advisors,rawConsultantAdvisors:options.consultant_advisors,rawIncumbentProducts:options.incumbent_products// NEW\n});const transformed={regions:['NAI','EMEA','APAC'],sales_regions:options.markets||[],channels:options.channels||[],assetClasses:options.asset_classes||[],consultants:extractNames(options.consultants),fieldConsultants:extractNames(options.field_consultants),clients:extractNames(options.companies),products:extractNames(options.products),incumbent_products:extractNames(options.incumbent_products),// NEW\n// Legacy PCA/ACA (for backward compatibility)\npcas:options.pcas||[],acas:options.acas||[],// âœ… NEW: Enhanced PCA/ACA options\nclientAdvisors:options.client_advisors||[],// Company PCA + ACA combined\nconsultantAdvisors:options.consultant_advisors||[],// Consultant PCA + Advisor combined\nratings:options.consultant_rankings||['Positive','Negative','Neutral','Introduced'],influenceLevels:options.influence_levels||['1','2','3','4'],mandateStatuses:options.mandate_statuses||['Active','At Risk','Conversion in Progress'],jpm_flags:options.jpm_flags||['Y','N'],privacy_levels:options.privacy_levels||['Public','Private','Confidential']};console.log('âœ… Transformed filter options with incumbent products support:',{clientAdvisors:transformed.clientAdvisors.length,consultantAdvisors:transformed.consultantAdvisors.length,incumbentProducts:transformed.incumbent_products.length,// NEW\nclientAdvisorsList:transformed.clientAdvisors.slice(0,5),consultantAdvisorsList:transformed.consultantAdvisors.slice(0,5),incumbentProductsList:transformed.incumbent_products.slice(0,5)// NEW\n});return transformed;}","map":{"version":3,"names":["transformHierarchicalOptions","hierarchicalOptions","_options$client_advis","_options$consultant_a","_options$incumbent_pr","_options$pcas","_options$acas","options","extractNames","arr","length","map","item","name","id","console","log","clientAdvisors","client_advisors","consultantAdvisors","consultant_advisors","incumbentProducts","incumbent_products","legacyPcas","pcas","legacyAcas","acas","rawClientAdvisors","rawConsultantAdvisors","rawIncumbentProducts","transformed","regions","sales_regions","markets","channels","assetClasses","asset_classes","consultants","fieldConsultants","field_consultants","clients","companies","products","ratings","consultant_rankings","influenceLevels","influence_levels","mandateStatuses","mandate_statuses","jpm_flags","privacy_levels","clientAdvisorsList","slice","consultantAdvisorsList","incumbentProductsList"],"sources":["/Users/prabhakarmudliyar/text-to-cypher-mui/frontend/src/components/types/FitlerTypes.ts"],"sourcesContent":["// FilterTypes.ts - UPDATED with Complete Recommendations Mode Support\n\nexport interface FilterCriteria {\n  regions?: string[];\n  nodeTypes?: string[];\n  sales_regions?: string[];\n  channels?: string[];\n  ratings?: string[];\n  influenceLevels?: string[];\n  assetClasses?: string[];\n  consultantIds?: string[];\n  fieldConsultantIds?: string[];\n  clientIds?: string[];\n  productIds?: string[];\n  pcaIds?: string[];\n  acaIds?: string[];\n  // NEW: Enhanced PCA/ACA filters\n  clientAdvisorIds?: string[]; // Company PCA + ACA combined\n  consultantAdvisorIds?: string[]; // Consultant PCA + Advisor combined\n  legacyPcaIds?: string[]; // Legacy PCA filter\n  // NEW: Incumbent Products filter for recommendations mode\n  incumbentProductIds?: string[];\n  mandateStatuses?: string[];\n  showInactive?: boolean;\n}\n\n\nexport interface FilterOptions {\n  regions: string[];\n  sales_regions: string[];\n  channels: string[];\n  assetClasses: string[];\n  consultants: string[];\n  fieldConsultants: string[];\n  clients: string[];\n  products: string[];\n  incumbent_products: string[];\n  pcas: string[];\n  acas: string[];\n  // NEW: Enhanced PCA/ACA options\n  clientAdvisors: string[]; // Company PCA + ACA combined\n  consultantAdvisors: string[]; // Consultant PCA + Advisor combined\n  ratings: string[];\n  influenceLevels: string[];\n  mandateStatuses: string[];\n  jpm_flags: string[];\n  privacy_levels: string[];\n}\n\n// âœ… UPDATED: Enhanced interface with new PCA/ACA fields and incumbent products\nexport interface HierarchicalFilterOptions {\n  markets?: string[];\n  channels?: string[];\n  asset_classes?: string[];\n  consultants?: Array<{id: string, name: string}> | string[];\n  field_consultants?: Array<{id: string, name: string}> | string[];\n  companies?: Array<{id: string, name: string}> | string[];\n  products?: Array<{id: string, name: string}> | string[];\n  incumbent_products?: Array<{id: string, name: string}> | string[]; // NEW\n  pcas?: string[];\n  acas?: string[];\n  // NEW: Enhanced PCA/ACA fields from backend\n  client_advisors?: string[]; // Company PCA + ACA combined\n  consultant_advisors?: string[]; // Consultant PCA + Advisor combined\n  consultant_rankings?: string[];\n  influence_levels?: string[];\n  mandate_statuses?: string[];\n  jpm_flags?: string[];\n  privacy_levels?: string[];\n}\n\n// âœ… UPDATED: Transform function with enhanced PCA/ACA logic and incumbent products\nexport function transformHierarchicalOptions(hierarchicalOptions: HierarchicalFilterOptions | Record<string, any>): FilterOptions {\n  // âœ… Handle both typed and untyped inputs\n  const options = hierarchicalOptions as HierarchicalFilterOptions;\n  \n  const extractNames = (arr: Array<{id: string, name: string}> | string[] | undefined): string[] => {\n    if (!arr || arr.length === 0) return [];\n    return arr.map(item => typeof item === 'string' ? item : item.name || item.id);\n  };\n\n  console.log('ðŸ”„ Transforming hierarchical options with enhanced PCA/ACA logic and incumbent products:', {\n    clientAdvisors: options.client_advisors?.length || 0,\n    consultantAdvisors: options.consultant_advisors?.length || 0,\n    incumbentProducts: options.incumbent_products?.length || 0, // NEW\n    legacyPcas: options.pcas?.length || 0,\n    legacyAcas: options.acas?.length || 0,\n    rawClientAdvisors: options.client_advisors,\n    rawConsultantAdvisors: options.consultant_advisors,\n    rawIncumbentProducts: options.incumbent_products // NEW\n  });\n\n  const transformed = {\n    regions: ['NAI', 'EMEA', 'APAC'],\n    sales_regions: options.markets || [],\n    channels: options.channels || [],\n    assetClasses: options.asset_classes || [],\n    consultants: extractNames(options.consultants),\n    fieldConsultants: extractNames(options.field_consultants),\n    clients: extractNames(options.companies),\n    products: extractNames(options.products),\n    incumbent_products: extractNames(options.incumbent_products), // NEW\n    \n    // Legacy PCA/ACA (for backward compatibility)\n    pcas: options.pcas || [],\n    acas: options.acas || [],\n    \n    // âœ… NEW: Enhanced PCA/ACA options\n    clientAdvisors: options.client_advisors || [], // Company PCA + ACA combined\n    consultantAdvisors: options.consultant_advisors || [], // Consultant PCA + Advisor combined\n    \n    ratings: options.consultant_rankings || ['Positive', 'Negative', 'Neutral', 'Introduced'],\n    influenceLevels: options.influence_levels || ['1', '2', '3', '4'],\n    mandateStatuses: options.mandate_statuses || ['Active', 'At Risk', 'Conversion in Progress'],\n    jpm_flags: options.jpm_flags || ['Y', 'N'],\n    privacy_levels: options.privacy_levels || ['Public', 'Private', 'Confidential']\n  };\n\n  console.log('âœ… Transformed filter options with incumbent products support:', {\n    clientAdvisors: transformed.clientAdvisors.length,\n    consultantAdvisors: transformed.consultantAdvisors.length,\n    incumbentProducts: transformed.incumbent_products.length, // NEW\n    clientAdvisorsList: transformed.clientAdvisors.slice(0, 5),\n    consultantAdvisorsList: transformed.consultantAdvisors.slice(0, 5),\n    incumbentProductsList: transformed.incumbent_products.slice(0, 5) // NEW\n  });\n\n  return transformed;\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}